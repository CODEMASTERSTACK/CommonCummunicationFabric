<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="420" viewBox="0 0 1000 420">
  <style>
    .box { fill:#ffffff; stroke:#2b2b2b; stroke-width:2; rx:8; }
    .title { font: bold 16px Arial; fill:#111; }
    .label { font: 13px Arial; fill:#222; }
    .small { font: 12px Arial; fill:#444; }
    .arrow { stroke:#555; stroke-width:2; fill:none; marker-end: url(#arrowhead); }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555" />
    </marker>
  </defs>

  <!-- App box -->
  <rect x="40" y="40" width="220" height="120" class="box" />
  <text x="150" y="70" text-anchor="middle" class="title">App (Flutter)</text>
  <text x="150" y="95" text-anchor="middle" class="small">UI & routing</text>

  <!-- Services group -->
  <rect x="320" y="20" width="320" height="160" class="box" />
  <text x="480" y="45" text-anchor="middle" class="title">Service Layer</text>

  <rect x="350" y="70" width="120" height="70" class="box" />
  <text x="410" y="95" text-anchor="middle" class="label">RoomService</text>
  <text x="410" y="112" text-anchor="middle" class="small">room lifecycle</text>

  <rect x="485" y="70" width="120" height="70" class="box" />
  <text x="545" y="95" text-anchor="middle" class="label">MessagingService</text>
  <text x="545" y="112" text-anchor="middle" class="small">message store</text>

  <rect x="620" y="70" width="120" height="70" class="box" />
  <text x="680" y="95" text-anchor="middle" class="label">LocalNetworkService</text>
  <text x="680" y="112" text-anchor="middle" class="small">TCP sockets</text>

  <!-- arrows from App to Services -->
  <path class="arrow" d="M260 100 L350 100" />
  <path class="arrow" d="M260 115 L485 115" />
  <path class="arrow" d="M260 130 L680 130" />

  <!-- Peer Devices -->
  <rect x="320" y="220" width="200" height="120" class="box" />
  <text x="420" y="250" text-anchor="middle" class="title">Peer Devices</text>
  <text x="420" y="275" text-anchor="middle" class="small">Phones / PCs / Laptops</text>

  <!-- Backend optional -->
  <rect x="700" y="240" width="220" height="80" class="box" />
  <text x="810" y="265" text-anchor="middle" class="title">Optional Backend</text>
  <text x="810" y="285" text-anchor="middle" class="small">REST / WebSocket / DB</text>

  <!-- arrows -->
  <path class="arrow" d="M740 110 L740 220 L540 220" />
  <path class="arrow" d="M620 190 L420 220" />
  <path class="arrow" d="M640 160 L740 260" />

  <!-- footer note -->
  <text x="500" y="390" text-anchor="middle" class="small">Architecture: App → Services → Network → Peers (backend optional)</text>
</svg>